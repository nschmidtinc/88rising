!function(e,t,n,r,i,o){function a(e,t){var n=typeof e[t];return"function"==n||!("object"!=n||!e[t])||"unknown"==n}function s(e,t){return!("object"!=typeof e[t]||!e[t])}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(!y(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var n=navigator.plugins[e].description;n&&!y(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(P=n.match(/\d+/g))}if(!P){var r;try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),P=Array.prototype.slice.call(r.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),r=null}catch(i){}}if(!P)return!1;var o=parseInt(P[0],10),a=parseInt(P[1],10);return E=o>9&&a>0,!0}function u(){if(!J){J=!0;for(var e=0;e<z.length;e++)z[e]();z.length=0}}function d(e,t){return J?void e.call(t):void z.push(function(){e.call(t)})}function p(){var e=parent;if(""!==F)for(var t=0,n=F.split(".");t<n.length;t++)e=e[n[t]];return e.easyXDM}function f(t){return e.easyXDM=L,F=t,F&&(j="easyXDM_"+F.replace(".","_")+"_"),$}function h(e){return e.match(W)[3]}function g(e){return e.match(W)[4]||""}function m(e){var t=e.toLowerCase().match(W),n=t[2],r=t[3],i=t[4]||"";return("http:"==n&&":80"==i||"https:"==n&&":443"==i)&&(i=""),n+"//"+r+i}function v(e){if(e=e.replace(D,"$1/"),!e.match(/^(http||https):\/\//)){var t="/"===e.substring(0,1)?"":n.pathname;"/"!==t.substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=n.protocol+"//"+n.host+t+e}for(;H.test(e);)e=e.replace(H,"");return e}function k(e,t){var n="",r=e.indexOf("#");-1!==r&&(n=e.substring(r),e=e.substring(0,r));var i=[];for(var a in t)t.hasOwnProperty(a)&&i.push(a+"="+o(t[a]));return e+(B?"#":-1==e.indexOf("?")?"?":"&")+i.join("&")+n}function y(e){return void 0===e}function w(e,t,n){var r;for(var i in t)t.hasOwnProperty(i)&&(i in e?(r=t[i],"object"==typeof r?w(e[i],r,n):n||(e[i]=t[i])):e[i]=t[i]);return e}function _(){var e=t.body.appendChild(t.createElement("form")),n=e.appendChild(t.createElement("input"));n.name=j+"TEST"+R,x=n!==e.elements[n.name],t.body.removeChild(e)}function b(e){y(x)&&_();var n;x?n=t.createElement('<iframe name="'+e.props.name+'"/>'):(n=t.createElement("IFRAME"),n.name=e.props.name),n.id=n.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=t.getElementById(e.container)),e.container||(w(n.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=t.body);var r=e.props.src;if(e.props.src="javascript:false",w(n,e.props),n.border=n.frameBorder=0,n.allowTransparency=!0,e.container.appendChild(n),e.onLoad&&N(n,"load",e.onLoad),e.usePost){var i,o=e.container.appendChild(t.createElement("form"));if(o.target=n.name,o.action=r,o.method="POST","object"==typeof e.usePost)for(var a in e.usePost)e.usePost.hasOwnProperty(a)&&(x?i=t.createElement('<input name="'+a+'"/>'):(i=t.createElement("INPUT"),i.name=a),i.value=e.usePost[a],o.appendChild(i));o.submit(),o.parentNode.removeChild(o)}else n.src=r;return e.props.src=r,n}function S(e,t){"string"==typeof e&&(e=[e]);for(var n,r=e.length;r--;)if(n=e[r],n=RegExp("^"==n.substr(0,1)?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),n.test(t))return!0;return!1}function O(r){var i,o=r.protocol;if(r.isHost=r.isHost||y(Y.xdm_p),B=r.hash||!1,r.props||(r.props={}),r.isHost)r.remote=v(r.remote),r.channel=r.channel||"default"+R++,r.secret=Math.random().toString(16).substring(2),y(o)&&(o=m(n.href)==m(r.remote)?"4":a(e,"postMessage")||a(t,"postMessage")?"1":r.swf&&a(e,"ActiveXObject")&&l()?"6":"Gecko"===navigator.product&&"frameElement"in e&&-1==navigator.userAgent.indexOf("WebKit")?"5":r.remoteHelper?"2":"0");else if(r.channel=Y.xdm_c.replace(/["'<>\\]/g,""),r.secret=Y.xdm_s,r.remote=Y.xdm_e.replace(/["'<>\\]/g,""),o=Y.xdm_p,r.acl&&!S(r.acl,r.remote))throw Error("Access denied for "+r.remote);switch(r.protocol=o,o){case"0":if(w(r,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),r.isHost){if(!r.local){for(var s,c=n.protocol+"//"+n.host,u=t.body.getElementsByTagName("img"),d=u.length;d--;)if(s=u[d],s.src.substring(0,c.length)===c){r.local=s.src;break}r.local||(r.local=e)}var p={xdm_c:r.channel,xdm_p:0};r.local===e?(r.usePolling=!0,r.useParent=!0,r.local=n.protocol+"//"+n.host+n.pathname+n.search,p.xdm_e=r.local,p.xdm_pa=1):p.xdm_e=v(r.local),r.container&&(r.useResize=!1,p.xdm_po=1),r.remote=k(r.remote,p)}else w(r,{channel:Y.xdm_c,remote:Y.xdm_e,useParent:!y(Y.xdm_pa),usePolling:!y(Y.xdm_po),useResize:r.useParent?!1:r.useResize});i=[new $.stack.HashTransport(r),new $.stack.ReliableBehavior({}),new $.stack.QueueBehavior({encode:!0,maxLength:4e3-r.remote.length}),new $.stack.VerifyBehavior({initiate:r.isHost})];break;case"1":i=[new $.stack.PostMessageTransport(r)];break;case"2":r.isHost&&(r.remoteHelper=v(r.remoteHelper)),i=[new $.stack.NameTransport(r),new $.stack.QueueBehavior,new $.stack.VerifyBehavior({initiate:r.isHost})];break;case"3":i=[new $.stack.NixTransport(r)];break;case"4":i=[new $.stack.SameOriginTransport(r)];break;case"5":i=[new $.stack.FrameElementTransport(r)];break;case"6":P||l(),i=[new $.stack.FlashTransport(r)]}return i.push(new $.stack.QueueBehavior({lazy:r.lazy,remove:!0})),i}function T(e){for(var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},r=0,i=e.length;i>r;r++)t=e[r],w(t,n,!0),0!==r&&(t.down=e[r-1]),r!==i-1&&(t.up=e[r+1]);return t}function A(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var x,P,E,N,M,C=this,R=Math.floor(1e4*Math.random()),I=Function.prototype,W=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,H=/[\-\w]+\/\.\.\//,D=/([^:])\/\//g,F="",$={},L=e.easyXDM,j="easyXDM_",B=!1;if(a(e,"addEventListener"))N=function(e,t,n){e.addEventListener(t,n,!1)},M=function(e,t,n){e.removeEventListener(t,n,!1)};else{if(!a(e,"attachEvent"))throw Error("Browser not supported");N=function(e,t,n){e.attachEvent("on"+t,n)},M=function(e,t,n){e.detachEvent("on"+t,n)}}var U,J=!1,z=[];if("readyState"in t?(U=t.readyState,J="complete"==U||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==U||"interactive"==U)):J=!!t.body,!J){if(a(e,"addEventListener"))N(t,"DOMContentLoaded",u);else if(N(t,"readystatechange",function(){"complete"==t.readyState&&u()}),t.documentElement.doScroll&&e===top){var q=function(){if(!J){try{t.documentElement.doScroll("left")}catch(e){return void r(q,1)}u()}};q()}N(e,"load",u)}var Y=function(e){e=e.substring(1).split("&");for(var t,n={},r=e.length;r--;)t=e[r].split("="),n[t[0]]=i(t[1]);return n}(/xdm_e=/.test(n.search)?n.search:n.hash),X=function(){var e={},t={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===n&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=n.evalJSON(),t.a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()})),e.stringify&&e.parse?(X=function(){return e},e):null)};w($,{version:"2.4.19.3",query:Y,stack:{},apply:w,getJSONObject:X,whenReady:d,noConflict:f}),$.DomHelper={on:N,un:M,requiresJSON:function(n){s(e,"JSON")||t.write('<script type="text/javascript" src="'+n+'"></script>')}},function(){var e={};$.Fn={set:function(t,n){e[t]=n},get:function(t,n){if(e.hasOwnProperty(t)){var r=e[t];return n&&delete e[t],r}}}}(),$.Socket=function(e){var t=T(O(e).concat([{incoming:function(t,n){e.onMessage(t,n)},callback:function(t){e.onReady&&e.onReady(t)}}])),n=m(e.remote);this.origin=m(e.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,n)},t.init()},$.Rpc=function(e,t){if(t.local)for(var n in t.local)if(t.local.hasOwnProperty(n)){var r=t.local[n];"function"==typeof r&&(t.local[n]={method:r})}var i=T(O(e).concat([new $.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=m(e.remote),this.destroy=function(){i.destroy()},i.init()},$.stack.SameOriginTransport=function(e){var t,i,o,a;return t={outgoing:function(e,t,n){o(e),n&&n()},destroy:function(){i&&(i.parentNode.removeChild(i),i=null)},onDOMReady:function(){a=m(e.remote),e.isHost?(w(e.props,{src:k(e.remote,{xdm_e:n.protocol+"//"+n.host+n.pathname,xdm_c:e.channel,xdm_p:4}),name:j+e.channel+"_provider"}),i=b(e),$.Fn.set(e.channel,function(e){return o=e,r(function(){t.up.callback(!0)},0),function(e){t.up.incoming(e,a)}})):(o=p().Fn.get(e.channel,!0)(function(e){t.up.incoming(e,a)}),r(function(){t.up.callback(!0)},0))},init:function(){d(t.onDOMReady,t)}}},$.stack.FlashTransport=function(e){function i(e){r(function(){s.up.incoming(e,l)},0)}function a(n){var r=e.swf+"?host="+e.isHost,i="easyXDM_swf_"+Math.floor(1e4*Math.random());$.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){$.stack.FlashTransport[n].swf=u=p.firstChild;for(var e=$.stack.FlashTransport[n].queue,t=0;t<e.length;t++)e[t]();e.length=0}),e.swfContainer?p="string"==typeof e.swfContainer?t.getElementById(e.swfContainer):e.swfContainer:(p=t.createElement("div"),w(p.style,E&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),t.body.appendChild(p));var a="callback=flash_loaded"+o(n.replace(/[\-.]/g,"_"))+"&proto="+C.location.protocol+"&domain="+o(h(C.location.href))+"&port="+o(g(C.location.href))+"&ns="+o(F);p.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+i+"' data='"+r+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+r+"'></param><param name='flashvars' value='"+a+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+a+"' allowScriptAccess='always' wmode='transparent' src='"+r+"' height='1' width='1'></embed></object>"}var s,c,l,u,p;return s={outgoing:function(t,n,r){u.postMessage(e.channel,""+t),r&&r()},destroy:function(){try{u.destroyChannel(e.channel)}catch(t){}u=null,c&&(c.parentNode.removeChild(c),c=null)},onDOMReady:function(){l=e.remote,$.Fn.set("flash_"+e.channel+"_init",function(){r(function(){s.up.callback(!0)})}),$.Fn.set("flash_"+e.channel+"_onMessage",i),e.swf=v(e.swf);var t=h(e.swf),o=function(){$.stack.FlashTransport[t].init=!0,u=$.stack.FlashTransport[t].swf,u.createChannel(e.channel,e.secret,m(e.remote),e.isHost),e.isHost&&(E&&e.swfNoThrottle&&w(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),w(e.props,{src:k(e.remote,{xdm_e:m(n.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:j+e.channel+"_provider"}),c=b(e))};$.stack.FlashTransport[t]&&$.stack.FlashTransport[t].init?o():$.stack.FlashTransport[t]?$.stack.FlashTransport[t].queue.push(o):($.stack.FlashTransport[t]={queue:[o]},a(t))},init:function(){d(s.onDOMReady,s)}}},$.stack.PostMessageTransport=function(t){function i(e){if(e.origin)return m(e.origin);if(e.uri)return m(e.uri);if(e.domain)return n.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}function o(e){var n=i(e);n==l&&e.data.substring(0,t.channel.length+1)==t.channel+" "&&a.up.incoming(e.data.substring(t.channel.length+1),n)}var a,s,c,l;return a={outgoing:function(e,n,r){c.postMessage(t.channel+" "+e,n||l),r&&r()},destroy:function(){M(e,"message",o),s&&(c=null,s.parentNode.removeChild(s),s=null)},onDOMReady:function(){if(l=m(t.remote),t.isHost){var i=function(n){n.data==t.channel+"-ready"&&(c="postMessage"in s.contentWindow?s.contentWindow:s.contentWindow.document,M(e,"message",i),N(e,"message",o),r(function(){a.up.callback(!0)},0))};N(e,"message",i),w(t.props,{src:k(t.remote,{xdm_e:m(n.href),xdm_c:t.channel,xdm_p:1}),name:j+t.channel+"_provider"}),s=b(t)}else N(e,"message",o),c="postMessage"in e.parent?e.parent:e.parent.document,c.postMessage(t.channel+"-ready",l),r(function(){a.up.callback(!0)},0)},init:function(){d(a.onDOMReady,a)}}},$.stack.FrameElementTransport=function(i){var o,a,s,c;return o={outgoing:function(e,t,n){s.call(this,e),n&&n()},destroy:function(){a&&(a.parentNode.removeChild(a),a=null)},onDOMReady:function(){c=m(i.remote),i.isHost?(w(i.props,{src:k(i.remote,{xdm_e:m(n.href),xdm_c:i.channel,xdm_p:5}),name:j+i.channel+"_provider"}),a=b(i),a.fn=function(e){return delete a.fn,s=e,r(function(){o.up.callback(!0)},0),function(e){o.up.incoming(e,c)}}):(t.referrer&&m(t.referrer)!=Y.xdm_e&&(e.top.location=Y.xdm_e),s=e.frameElement.fn(function(e){o.up.incoming(e,c)}),o.up.callback(!0))},init:function(){d(o.onDOMReady,o)}}},$.stack.NameTransport=function(e){function t(t){var n=e.remoteHelper+(s?"#_3":"#_2")+e.channel;c.contentWindow.sendMessage(t,n)}function n(){s?2!==++u&&s||a.up.callback(!0):(t("ready"),a.up.callback(!0))}function i(e){a.up.incoming(e,f)}function o(){p&&r(function(){p(!0)},0)}var a,s,c,l,u,p,f,h;return a={outgoing:function(e,n,r){p=r,t(e)},destroy:function(){c.parentNode.removeChild(c),c=null,s&&(l.parentNode.removeChild(l),l=null)},onDOMReady:function(){s=e.isHost,u=0,f=m(e.remote),e.local=v(e.local),s?($.Fn.set(e.channel,function(t){s&&"ready"===t&&($.Fn.set(e.channel,i),n())}),h=k(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),w(e.props,{src:h+"#"+e.channel,name:j+e.channel+"_provider"}),l=b(e)):(e.remoteHelper=e.remote,$.Fn.set(e.channel,i));var t=function(){var i=c||this;M(i,"load",t),$.Fn.set(e.channel+"_load",o),function a(){"function"==typeof i.contentWindow.sendMessage?n():r(a,50)}()};c=b({props:{src:e.local+"#_4"+e.channel},onLoad:t})},init:function(){d(a.onDOMReady,a)}}},$.stack.HashTransport=function(t){function n(e){if(g){var n=t.remote+"#"+f++ +"_"+e;(c||!v?g.contentWindow:g).location=n}}function i(e){p=e,s.up.incoming(p.substring(p.indexOf("_")+1),k)}function o(){if(h){var e=h.location.href,t="",n=e.indexOf("#");-1!=n&&(t=e.substring(n)),t&&t!=p&&i(t)}}function a(){l=setInterval(o,u)}var s,c,l,u,p,f,h,g,v,k;return s={outgoing:function(e){n(e)},destroy:function(){e.clearInterval(l),(c||!v)&&g.parentNode.removeChild(g),g=null},onDOMReady:function(){if(c=t.isHost,u=t.interval,p="#"+t.channel,f=0,v=t.useParent,k=m(t.remote),c){if(w(t.props,{src:t.remote,name:j+t.channel+"_provider"}),v)t.onLoad=function(){h=e,a(),s.up.callback(!0)};else{var n=0,i=t.delay/50;!function o(){if(++n>i)throw Error("Unable to reference listenerwindow");try{h=g.contentWindow.frames[j+t.channel+"_consumer"]}catch(e){}h?(a(),s.up.callback(!0)):r(o,50)}()}g=b(t)}else h=e,a(),v?(g=parent,s.up.callback(!0)):(w(t,{props:{src:t.remote+"#"+t.channel+new Date,name:j+t.channel+"_consumer"},onLoad:function(){s.up.callback(!0)}}),g=b(t))},init:function(){d(s.onDOMReady,s)}}},$.stack.ReliableBehavior=function(){var e,t,n=0,r=0,i="";return e={incoming:function(o,a){var s=o.indexOf("_"),c=o.substring(0,s).split(",");o=o.substring(s+1),c[0]==n&&(i="",t&&t(!0)),o.length>0&&(e.down.outgoing(c[1]+","+n+"_"+i,a),r!=c[1]&&(r=c[1],e.up.incoming(o,a)))},outgoing:function(o,a,s){i=o,t=s,e.down.outgoing(r+","+ ++n+"_"+o,a)}}},$.stack.QueueBehavior=function(e){function t(){if(e.remove&&0===s.length)return void A(n);if(!c&&0!==s.length&&!a){c=!0;var i=s.shift();n.down.outgoing(i.data,i.origin,function(e){c=!1,i.callback&&r(function(){i.callback(e)},0),t()})}}var n,a,s=[],c=!0,l="",u=0,d=!1,p=!1;return n={init:function(){y(e)&&(e={}),e.maxLength&&(u=e.maxLength,p=!0),e.lazy?d=!0:n.down.init()},callback:function(e){c=!1;var r=n.up;t(),r.callback(e)},incoming:function(t,r){if(p){var o=t.indexOf("_"),a=parseInt(t.substring(0,o),10);l+=t.substring(o+1),0===a&&(e.encode&&(l=i(l)),n.up.incoming(l,r),l="")}else n.up.incoming(t,r)},outgoing:function(r,i,a){e.encode&&(r=o(r));var c,l=[];if(p){for(;0!==r.length;)c=r.substring(0,u),r=r.substring(c.length),l.push(c);for(;c=l.shift();)s.push({data:l.length+"_"+c,origin:i,callback:0===l.length?a:null})}else s.push({data:r,origin:i,callback:a});d?n.down.init():t()},destroy:function(){a=!0,n.down.destroy()}}},$.stack.VerifyBehavior=function(e){function t(){r=Math.random().toString(16).substring(2),n.down.outgoing(r)}var n,r,i;return n={incoming:function(o,a){var s=o.indexOf("_");-1===s?o===r?n.up.callback(!0):i||(i=o,e.initiate||t(),n.down.outgoing(o)):o.substring(0,s)===i&&n.up.incoming(o.substring(s+1),a)},outgoing:function(e,t,i){n.down.outgoing(r+"_"+e,t,i)},callback:function(){e.initiate&&t()}}},$.stack.RpcBehavior=function(e,t){function n(e){e.jsonrpc="2.0",o.down.outgoing(a.stringify(e))}function r(e,t){var r=Array.prototype.slice;return function(){var i,o=arguments.length,a={method:t};o>0&&"function"==typeof arguments[o-1]?(o>1&&"function"==typeof arguments[o-2]?(i={success:arguments[o-2],error:arguments[o-1]},a.params=r.call(arguments,0,o-2)):(i={success:arguments[o-1]},a.params=r.call(arguments,0,o-1)),l[""+ ++s]=i,a.id=s):a.params=r.call(arguments,0),e.namedParams&&1===a.params.length&&(a.params=a.params[0]),n(a)}}function i(e,t,r,i){if(!r)return void(t&&n({id:t,error:{code:-32601,message:"Procedure not found."}}));var o,a;t?(o=function(e){o=I,n({id:t,result:e})},a=function(e,r){a=I;var i={id:t,error:{code:-32099,message:e}};r&&(i.error.data=r),n(i)}):o=a=I,c(i)||(i=[i]);try{var s=r.method.apply(r.scope,i.concat([o,a]));y(s)||o(s)}catch(l){a(l.message)}}var o,a=t.serializer||X(),s=0,l={};return o={incoming:function(e){var r=a.parse(e);if(r.method)t.handle?t.handle(r,n):i(r.method,r.id,t.local[r.method],r.params);else{var o=l[r.id];r.error?o.error&&o.error(r.error):o.success&&o.success(r.result),delete l[r.id]}},init:function(){if(t.remote)for(var n in t.remote)t.remote.hasOwnProperty(n)&&(e[n]=r(t.remote[n],n));o.down.init()},destroy:function(){for(var n in t.remote)t.remote.hasOwnProperty(n)&&e.hasOwnProperty(n)&&delete e[n];o.down.destroy()}}},C.easyXDM=$}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);var $p,pure=$p=function(){var e=arguments[0],t=!1;return"string"==typeof e?t=arguments[1]||!1:!e||e[0]||e.length||(e=[e]),$p.core(e,t)};$p.core=function(e,t,n){function r(e){throw"undefined"!=typeof console&&console.log(e),"pure error: "+e}function i(){var e=$p.plugins,t=function(){};return t.prototype=e,t.prototype.compile=e.compile||v,t.prototype.render=e.render||k,t.prototype.autoRender=e.autoRender||y,t.prototype.find=e.find||s,t.prototype._compiler=m,t.prototype._error=r,new t}function o(e){return e.outerHTML||function(e){var t,n=document.createElement("div");return n.appendChild(e.cloneNode(!0)),t=n.innerHTML,n=null,t}(e)}function a(e,t){return function(n){return e(""+t.call(n.item||n.context,n))}}function s(e,t){return"string"==typeof e&&(t=e,e=!1),void 0!==document.querySelectorAll?(e||document).querySelectorAll(t):r("You can test PURE standalone with: iPhone, FF3.5+, Safari4+ and IE8+\n\nTo run PURE on your browser, you need a JS library/framework with a CSS selector engine")}function c(e,t){return function(n){for(var r,i,o,a,s=[e[0]],c=e.length,l=1;c>l;l++)r=t[l].call(this,n),i=e[l],""===r&&(o=s[s.length-1],(a=o.search(/[^\s]+=\"?$/))>-1&&(s[s.length-1]=o.substring(0,a),i=i.substr(1))),s[s.length]=r,s[s.length]=i;return s.join("")}}function l(e){var t=e.match(/^(\w+)\s*<-\s*(\S+)?$/);return null===t&&r('bad loop spec: "'+e+'"'),"item"===t[1]&&r('"item<-..." is a reserved word for the current running iteration.\n\nPlease choose another name for your loop.'),(!t[2]||t[2]&&/context/i.test(t[2]))&&(t[2]=function(e){return e.context}),{name:t[1],sel:t[2]}}function u(e){if("function"==typeof e)return function(t){var n=e.call(t.item||t.context||t,t);return n||0===n?n:""};var t=e.match(/^[a-zA-Z\$_\@][\w\$:-]*(\.[\w\$:-]*[^\.])*$/);if(null===t){var n,r=!1,i=e,o=[],a=[],s=0;if(/\'|\"/.test(i.charAt(0))){if(/\'|\"/.test(i.charAt(i.length-1)))return n=i.substring(1,i.length-1),function(){return n}}else for(;null!==(t=i.match(/#\{([^{}]+)\}/));)r=!0,o[s++]=i.slice(0,t.index),a[s]=u(t[1]),i=i.slice(t.index+t[0].length,i.length);return r?(o[s]=i,c(o,a)):function(){return e}}return t=e.split("."),function(e){var n=e.context||e,r=e[t[0]],i=0;if(r&&r.item){if(i+=1,"pos"===t[i])return r.pos;n=r.item}for(var o=t.length;o>i&&n;i++)n=n[t[i]];return n||0===n?n:""}}function d(e,t,i){var a,s,c,l,u,d=[];if("string"==typeof t){a=t;var p=t.match(A);if(p||r("bad selector syntax: "+t),s=p[1],c=p[2],l=p[3],u=p[4],"."===c||!c&&l?d[0]=e:d=n.find(e,c),!d||0===d.length)return r('The node "'+t+'" was not found in the template:\n'+o(e).replace(/\t/g,"  "))}else s=t.prepend,l=t.attr,u=t.append,d=[e];(s||u)&&(s&&u?r("append/prepend cannot take place at the same time"):i?r("no append/prepend/replace modifiers allowed for loop target"):u&&i&&r("cannot append with loop (sel: "+a+")"));var f,h,g,m,v,k,y;return l?(m=/^style$/i.test(l),v=/^class$/i.test(l),k=v?"className":l,f=function(e,t){if(e.setAttribute(T+l,t),k in e&&!m)try{e[k]=""}catch(n){}1===e.nodeType&&(e.removeAttribute(l),v&&e.removeAttribute(k))},h=m||v?m?function(e){return e.style.cssText}:function(e){return e.className}:function(e){return e.getAttribute(l)},g=function(e){return e.replace(/\"/g,"&quot;")},y=s?function(e,t){f(e,t+h(e))}:u?function(e,t){f(e,h(e)+t)}:function(e,t){f(e,t)}):(y=i?function(e,t){var n=e.parentNode;n&&(n.insertBefore(document.createTextNode(t),e.nextSibling),n.removeChild(e))}:s?function(e,t){e.insertBefore(document.createTextNode(t),e.firstChild)}:u?function(e,t){e.appendChild(document.createTextNode(t))}:function(e,t){for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))},g=function(e){return e}),{attr:l,nodes:d,set:y,sel:a,quotefn:g}}function p(e,t){for(var n=O+t+":",r=0;r<e.nodes.length;r++)e.set(e.nodes[r],n)}function f(e,t,n,i,o){return function(a){var s,c=t(a),l=a[e],u={items:c},d=0,p=[],f=function(e,t,r,i){var o=a.pos,s=a.item,l=a.items;return a.pos=t.pos=e,a.item=t.item=c[e],a.items=c,void 0!==i&&(a.length=i),"function"==typeof r&&r.call(a.item,a)===!1?void d++:(p.push(n.call(a.item,a)),a.pos=o,a.item=s,void(a.items=l))};if(a[e]=u,P(c)){s=c.length||0,"function"==typeof i&&c.sort(i);for(var h=0,g=s;g>h;h++)f(h,u,o,s-d)}else{c&&void 0!==i&&r("sort is only available on arrays, not objects");for(var m in c)c.hasOwnProperty(m)&&f(m,u,o)}return void 0!==l?a[e]=l:delete a[e],p.join("")}}function h(e,t,n,i){var o,s,c,g,v=!1;for(g in n)if(n.hasOwnProperty(g)){if("sort"===g){s=n.sort;continue}if("filter"===g){c=n.filter;continue}v&&r("cannot have more than one loop on a target"),o=g,v=!0}o||r("Error in the selector: "+t+"\nA directive action must be a string, a function or a loop(<-)");var k=n[o];if("string"==typeof k||"function"==typeof k)return n={},n[o]={root:k},h(e,t,n,i);var y=l(o),w=u(y.sel),_=d(e,t,!0),S=_.nodes;for(b=0;b<S.length;b++){var O=S[b],T=m(O,k);i[i.length]=a(_.quotefn,f(y.name,w,T,s,c)),_.nodes=[O],p(_,i.length-1)}return _}function g(e,t){function n(e,n){var r,i,o,a,s=e.match(A),c=s[3]||x[n],l={prepend:!!s[1],prop:s[2],attr:c,append:!!s[4],sel:e};for(r=g.a.length-1;r>=0;r--)if(i=g.a[r],o=i.l[0],a=o&&o[l.prop],void 0!==a){l.prop=i.p+"."+l.prop,g.l[l.prop]===!0&&(a=a[0]);break}return void 0===a&&(a=u(l.prop)(P(t)?t[0]:t),""===a)?!1:(P(a)?(g.a.push({l:a,p:l.prop}),g.l[l.prop]=!0,l.t="loop"):l.t="str",l)}var r,i,o,a,s,c,l,d,p,f=e.getElementsByTagName("*"),h=[],g={a:[],l:{}};for(o=-1,a=f.length;a>o;o++)if(l=o>-1?f[o]:e,1===l.nodeType&&""!==l.className)for(d=l.className.split(" "),s=0,c=d.length;c>s;s++)p=d[s],r=n(p,l.tagName),r!==!1&&(i=/nodevalue/i.test(r.attr),(r.sel.indexOf("@")>-1||i)&&(l.className=l.className.replace("@"+r.attr,""),i&&(r.attr=!1)),h.push({n:l,cspec:r}));return h}function m(e,t,n,r){var i,s,l,v,k,y,w,_,b,S,A,x,P,E,N,M,C,R=[],I=[];if(r=r||n&&g(e,n),n)for(;r.length>0;)if(l=r[0].cspec,v=r[0].n,r.splice(0,1),"str"===l.t)k=d(v,l,!1),p(k,R.length),R[R.length]=a(k.quotefn,u(l.prop));else for(w=u(l.sel),k=d(v,l,!0),y=k.nodes,i=0,s=y.length;s>i;i++)_=y[i],b=m(_,!1,n,r),R[R.length]=a(k.quotefn,f(l.sel,w,b)),k.nodes=[_],p(k,R.length-1);for(x in t)if(t.hasOwnProperty(x)){E=0,S=t[x],A=x.split(/\s*,\s*/),P=A.length;do"function"==typeof S||"string"==typeof S?(x=A[E],k=d(e,x,!1),p(k,R.length),R[R.length]=a(k.quotefn,u(S))):h(e,x,S,R);while(++E<P)}for(N=o(e),N=N.replace(/<([^>]+)\s(value\=""|selected)\s?([^>]*)>/gi,"<$1 $3>"),N=N.split(T).join(""),M=N.split(O),E=1;E<M.length;E++)C=M[E],I[E]=R[parseInt(C,10)],M[E]=C.substring(C.indexOf(":")+1);return c(M,I)}function v(e,t,n){var r=m((n||this[0]).cloneNode(!0),e,t);return function(e){return r({context:e})}}function k(e,t){for(var r="function"==typeof t&&t,i=0,o=this.length;o>i;i++)this[i]=w(this[i],(r||n.compile(t,!1,this[i]))(e,!1));return context=null,this}function y(e,t){for(var r=n.compile(t,e,this[0]),i=0,o=this.length;o>i;i++)this[i]=w(this[i],r(e,!1));return context=null,this}function w(e,t){var n,r=e.parentNode,i=0;switch(r||(r=document.createElement("DIV"),r.appendChild(e)),e.tagName){case"TBODY":case"THEAD":case"TFOOT":t="<TABLE>"+t+"</TABLE>",i=1;break;case"TR":t="<TABLE><TBODY>"+t+"</TBODY></TABLE>",i=2;break;case"TD":case"TH":t="<TABLE><TBODY><TR>"+t+"</TR></TBODY></TABLE>",i=3}for(tmp=document.createElement("SPAN"),tmp.style.display="none",document.body.appendChild(tmp),tmp.innerHTML=t,n=tmp.firstChild;i--;)n=n.firstChild;return r.insertBefore(n,e),r.removeChild(e),document.body.removeChild(tmp),e=n,n=r=null,e}var _=[];switch(n=n||i(),typeof e){case"string":_=n.find(t||document,e),0===_.length&&r('The template "'+e+'" was not found');break;case"undefined":r("The root of the template is undefined, check your selector");break;default:_=e}for(var b=0,S=_.length;S>b;b++)n[b]=_[b];n.length=S;var O="_s"+Math.floor(1e6*Math.random())+"_",T="_a"+Math.floor(1e6*Math.random())+"_",A=/^(\+)?([^\@\+]+)?\@?([^\+]+)?(\+)?$/,x={IMG:"src",INPUT:"value"},P=Array.isArray?function(e){return Array.isArray(e)}:function(e){return"[object Array]"===Object.prototype.toString.call(e)};return n},$p.plugins={},$p.libs={dojo:function(){void 0===document.querySelector&&($p.plugins.find=function(e,t){return dojo.query(t,e)})},domassistant:function(){void 0===document.querySelector&&($p.plugins.find=function(e,t){return $(e).cssSelect(t)}),DOMAssistant.attach({publicMethods:["compile","render","autoRender"],compile:function(e,t){return $p([this]).compile(e,t)},render:function(e,t){return $($p([this]).render(e,t))[0]},autoRender:function(e,t){return $($p([this]).autoRender(e,t))[0]}})},jquery:function(){void 0===document.querySelector&&($p.plugins.find=function(e,t){return jQuery(e).find(t)}),jQuery.fn.extend({directives:function(e){return this._pure_d=e,this},compile:function(e,t){return $p(this).compile(this._pure_d||e,t)},render:function(e,t){return jQuery($p(this).render(e,this._pure_d||t))},autoRender:function(e,t){return jQuery($p(this).autoRender(e,this._pure_d||t))}})},mootools:function(){void 0===document.querySelector&&($p.plugins.find=function(e,t){return $(e).getElements(t)}),Element.implement({compile:function(e,t){return $p(this).compile(e,t)},render:function(e,t){return $p([this]).render(e,t)},autoRender:function(e,t){return $p([this]).autoRender(e,t)}})},prototype:function(){void 0===document.querySelector&&($p.plugins.find=function(e,t){return e=e===document?e.body:e,"string"==typeof e?$$(e):$(e).select(t)}),Element.addMethods({compile:function(e,t,n){return $p([e]).compile(t,n)},render:function(e,t,n){return $p([e]).render(t,n)},autoRender:function(e,t,n){return $p([e]).autoRender(t,n)}})},sizzle:function(){void 0===document.querySelector&&($p.plugins.find=function(e,t){return Sizzle(t,e)})},sly:function(){void 0===document.querySelector&&($p.plugins.find=function(e,t){return Sly(t,e)})},yui:function(){void 0===document.querySelector&&YUI().use("node",function(e){$p.plugins.find=function(t,n){return e.NodeList.getDOMNodes(e.one(t).all(n))}}),YUI.add("pure-yui",function(e){e.Node.prototype.directives=function(e){return this._pure_d=e,this},e.Node.prototype.compile=function(e,t){return $p([this._node]).compile(this._pure_d||e,t)},e.Node.prototype.render=function(t,n){return e.one($p([this._node]).render(t,this._pure_d||n))},e.Node.prototype.autoRender=function(t,n){return e.one($p([this._node]).autoRender(t,this._pure_d||n))}},"0.1",{requires:["node"]})}},function(){var e="undefined"!=typeof dojo&&"dojo"||"undefined"!=typeof DOMAssistant&&"domassistant"||"undefined"!=typeof jQuery&&"jquery"||"undefined"!=typeof MooTools&&"mootools"||"undefined"!=typeof Prototype&&"prototype"||"undefined"!=typeof Sizzle&&"sizzle"||"undefined"!=typeof Sly&&"sly"||"undefined"!=typeof YUI&&"yui";e&&$p.libs[e](),"undefined"!=typeof exports&&(exports.$p=$p)}();var Detector=function(){function e(e){var n=!1;for(var r in t){o.style.fontFamily=e+","+t[r],i.appendChild(o);var c=o.offsetWidth!=a[t[r]]||o.offsetHeight!=s[t[r]];i.removeChild(o),n=n||c}return n}var t=["monospace","sans-serif","serif"],n="mmmmmmmmmmlli",r="72px",i=document.getElementsByTagName("body")[0],o=document.createElement("span");o.style.fontSize=r,o.innerHTML=n;var a={},s={};for(var c in t)o.style.fontFamily=t[c],i.appendChild(o),a[t[c]]=o.offsetWidth,s[t[c]]=o.offsetHeight,i.removeChild(o);this.detect=e};!function(e,t,n){function r(e){return function(){return this[e]}}function i(e,t){var n=e.split("."),r=et;!(n[0]in r)&&r.execScript&&r.execScript("var "+n[0]);for(var i;n.length&&(i=n.shift());)n.length||void 0===t?r=r[i]?r[i]:r[i]={}:r[i]=t}function o(e){return e.call.apply(e.bind,arguments)}function a(e,t){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function s(){return s=Function.prototype.bind&&-1!=(""+Function.prototype.bind).indexOf("native code")?o:a,s.apply(Q,arguments)}function c(e,t){this.G=e,this.v=t||e,this.z=this.v.document}function l(e,n,r){e=e.z.getElementsByTagName(n)[0],e||(e=t.documentElement),e&&e.lastChild&&e.insertBefore(r,e.lastChild)}function u(e,t,n){t=t||[],n=n||[];for(var r=e.className.split(/\s+/),i=0;i<t.length;i+=1){for(var o=Z,a=0;a<r.length;a+=1)if(t[i]===r[a]){o=G;break}o||r.push(t[i])}for(t=[],i=0;i<r.length;i+=1){for(o=Z,a=0;a<n.length;a+=1)if(r[i]===n[a]){o=G;break}o||t.push(r[i])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(e,t){for(var n=e.className.split(/\s+/),r=0,i=n.length;i>r;r++)if(n[r]==t)return G;return Z}function p(e){var t=e.v.location.protocol;return"about:"==t&&(t=e.G.location.protocol),"https:"==t?"https:":"http:"}function f(e,t){var n=e.createElement("link",{rel:"stylesheet",href:t}),r=Z;n.onload=function(){r||(r=G)},n.onerror=function(){r||(r=G)},l(e,"head",n)}function h(t,n,r,i){var o=t.z.getElementsByTagName("head")[0];if(o){var a=t.createElement("script",{src:n}),s=Z;return a.onload=a.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=G,r&&r(Q),a.onload=a.onreadystatechange=Q,"HEAD"==a.parentNode.tagName&&o.removeChild(a))},o.appendChild(a),e.setTimeout(function(){s||(s=G,r&&r(Error("Script load timeout")))},i||5e3),a}return Q}function g(e,t,n){this.M=e,this.U=t,this.Aa=n}function m(e,t,n,r){this.d=e!=Q?e:Q,this.o=t!=Q?t:Q,this.aa=n!=Q?n:Q,this.f=r!=Q?r:Q}function v(e){e=nt.exec(e);var t=Q,n=Q,r=Q,i=Q;return e&&(e[1]!==Q&&e[1]&&(t=parseInt(e[1],10)),e[2]!==Q&&e[2]&&(n=parseInt(e[2],10)),e[3]!==Q&&e[3]&&(r=parseInt(e[3],10)),e[4]!==Q&&e[4]&&(i=/^[0-9]+$/.test(e[4])?parseInt(e[4],10):e[4])),new m(t,n,r,i)}function k(e,t,n,r,i,o,a,s,c,l,u){this.K=e,this.Ga=t,this.za=n,this.fa=r,this.Ea=i,this.ea=o,this.wa=a,this.Fa=s,this.va=c,this.da=l,this.j=u}function y(e,t){this.a=e,this.I=t}function w(e){var t=S(e.a,/(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/,1);return""!=t?(/BB\d{2}/.test(t)&&(t="BlackBerry"),t):(e=S(e.a,/(Linux|Mac_PowerPC|Macintosh|Windows|CrOS)/,1),""!=e?("Mac_PowerPC"==e&&(e="Macintosh"),e):"Unknown")}function _(e){var t=S(e.a,/(OS X|Windows NT|Android) ([^;)]+)/,2);if(t||(t=S(e.a,/Windows Phone( OS)? ([^;)]+)/,2))||(t=S(e.a,/(iPhone )?OS ([\d_]+)/,2)))return t;
if(t=S(e.a,/(?:Linux|CrOS) ([^;)]+)/,1))for(var t=t.split(/\s/),n=0;n<t.length;n+=1)if(/^[\d\._]+$/.test(t[n]))return t[n];return(e=S(e.a,/(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/,2))?e:"Unknown"}function b(e){var t=w(e),n=_(e),r=v(n),i=S(e.a,/AppleWeb(?:K|k)it\/([\d\.\+]+)/,1),o=v(i),a="Unknown",s=new m,c="Unknown",l=Z;return/OPR\/[\d.]+/.test(e.a)?a="Opera":-1!=e.a.indexOf("Chrome")||-1!=e.a.indexOf("CrMo")||-1!=e.a.indexOf("CriOS")?a="Chrome":/Silk\/\d/.test(e.a)?a="Silk":"BlackBerry"==t||"Android"==t?a="BuiltinBrowser":-1!=e.a.indexOf("PhantomJS")?a="PhantomJS":-1!=e.a.indexOf("Safari")?a="Safari":-1!=e.a.indexOf("AdobeAIR")&&(a="AdobeAIR"),"BuiltinBrowser"==a?c="Unknown":"Silk"==a?c=S(e.a,/Silk\/([\d\._]+)/,1):"Chrome"==a?c=S(e.a,/(Chrome|CrMo|CriOS)\/([\d\.]+)/,2):-1!=e.a.indexOf("Version/")?c=S(e.a,/Version\/([\d\.\w]+)/,1):"AdobeAIR"==a?c=S(e.a,/AdobeAIR\/([\d\.]+)/,1):"Opera"==a?c=S(e.a,/OPR\/([\d.]+)/,1):"PhantomJS"==a&&(c=S(e.a,/PhantomJS\/([\d.]+)/,1)),s=v(c),l="AdobeAIR"==a?2<s.d||2==s.d&&5<=s.o:"BlackBerry"==t?10<=r.d:"Android"==t?2<r.d||2==r.d&&1<r.o:526<=o.d||525<=o.d&&13<=o.o,new k(a,s,c,"AppleWebKit",o,i,t,r,n,O(e.I),new g(l,536>o.d||536==o.d&&11>o.o,"iPhone"==t||"iPad"==t||"iPod"==t||"Macintosh"==t))}function S(e,t,n){return(e=e.match(t))&&e[n]?e[n]:""}function O(e){return e.documentMode?e.documentMode:n}function T(e){this.ua=e||"-"}function A(e,t){this.K=e,this.V=4,this.L="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.L=n[1],this.V=parseInt(n[2],10))}function x(e){return e.L+e.V}function P(e){var t=4,n="n",r=Q;return e&&((r=e.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=e.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?t=7:/[1-9]00/.test(r[1])&&(t=parseInt(r[1].substr(0,1),10)))),n+t}function E(e,t,n){this.c=e,this.m=t,this.O=n,this.h="wf",this.g=new T("-")}function N(e){var t=d(e.m,e.g.f(e.h,"active")),n=[],r=[e.g.f(e.h,"loading")];t||n.push(e.g.f(e.h,"inactive")),u(e.m,n,r),M(e,"inactive")}function M(e,t,n){e.O[t]&&(n?e.O[t](n.getName(),x(n)):e.O[t]())}function C(){this.w={}}function R(e,t){this.c=e,this.C=t,this.s=this.c.createElement("span",{"aria-hidden":"true"},this.C)}function I(e,t){var n;n=[];for(var r=t.K.split(/,\s*/),i=0;i<r.length;i++){var o=r[i].replace(/['"]/g,"");n.push(-1==o.indexOf(" ")?o:"'"+o+"'")}n=n.join(","),r="normal",i=t.V+"00","o"===t.L?r="oblique":"i"===t.L&&(r="italic"),e.s.style.cssText="display:block;position:absolute;top:-999px;left:-999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+n+";"+("font-style:"+r+";font-weight:"+i+";")}function W(e){l(e.c,"body",e.s)}function H(e,t,n,r,i,o,a,s){this.W=e,this.sa=t,this.c=n,this.q=r,this.C=s||"BESbswy",this.j=i,this.F={},this.T=o||5e3,this.Z=a||Q,this.B=this.A=Q,e=new R(this.c,this.C),W(e);for(var c in it)it.hasOwnProperty(c)&&(I(e,new A(it[c],x(this.q))),this.F[it[c]]=e.s.offsetWidth);e.remove()}function D(e,t,n){for(var r in it)if(it.hasOwnProperty(r)&&t===e.F[it[r]]&&n===e.F[it[r]])return G;return Z}function F(e){var t=e.A.s.offsetWidth,n=e.B.s.offsetWidth;t===e.F.serif&&n===e.F["sans-serif"]||e.j.U&&D(e,t,n)?tt()-e.xa>=e.T?e.j.U&&D(e,t,n)&&(e.Z===Q||e.Z.hasOwnProperty(e.q.getName()))?$(e,e.W):$(e,e.sa):setTimeout(s(function(){F(this)},e),25):$(e,e.W)}function $(e,t){e.A.remove(),e.B.remove(),t(e.q)}function L(e,t,n,r){this.c=t,this.t=n,this.P=0,this.ba=this.Y=Z,this.T=r,this.j=e.j}function j(e,t,n,r,i){if(0===t.length&&i)N(e.t);else for(e.P+=t.length,i&&(e.Y=i),i=0;i<t.length;i++){var o=t[i],a=n[o.getName()],c=e.t,l=o;u(c.m,[c.g.f(c.h,l.getName(),""+x(l),"loading")]),M(c,"fontloading",l),new H(s(e.ga,e),s(e.ha,e),e.c,o,e.j,e.T,r,a).start()}}function B(e){0==--e.P&&e.Y&&(e.ba?(e=e.t,u(e.m,[e.g.f(e.h,"active")],[e.g.f(e.h,"loading"),e.g.f(e.h,"inactive")]),M(e,"active")):N(e.t))}function U(e){this.G=e,this.u=new C,this.ya=new y(e.navigator.userAgent,e.document),this.a=this.ya.parse(),this.Q=this.R=0}function J(e,t){this.c=e,this.e=t,this.k=[]}function z(e,t){this.c=e,this.e=t,this.k=[]}function q(e,t){this.c=e,this.e=t}function Y(e,t,n){this.N=e?e:t+ot,this.p=[],this.S=[],this.ca=n||""}function X(e){this.p=e,this.$=[],this.J={}}function V(e,n){this.a=new y(navigator.userAgent,t).parse(),this.c=e,this.e=n}function K(e,t){this.c=e,this.e=t,this.k=[]}var G=!0,Q=null,Z=!1,et=this,tt=Date.now||function(){return+new Date};c.prototype.createElement=function(e,t,n){if(e=this.z.createElement(e),t)for(var r in t)t.hasOwnProperty(r)&&("style"==r?e.style.cssText=t[r]:e.setAttribute(r,t[r]));return n&&e.appendChild(this.z.createTextNode(n)),e},i("webfont.BrowserInfo",g),g.prototype.pa=r("M"),g.prototype.hasWebFontSupport=g.prototype.pa,g.prototype.qa=r("U"),g.prototype.hasWebKitFallbackBug=g.prototype.qa,g.prototype.ra=r("Aa"),g.prototype.hasWebKitMetricsBug=g.prototype.ra;var nt=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;m.prototype.toString=function(){return""+this.d+(this.o||"")+(this.aa||"")+(this.f||"")},i("webfont.UserAgent",k),k.prototype.getName=r("K"),k.prototype.getName=k.prototype.getName,k.prototype.oa=r("za"),k.prototype.getVersion=k.prototype.oa,k.prototype.ka=r("fa"),k.prototype.getEngine=k.prototype.ka,k.prototype.la=r("ea"),k.prototype.getEngineVersion=k.prototype.la,k.prototype.ma=r("wa"),k.prototype.getPlatform=k.prototype.ma,k.prototype.na=r("va"),k.prototype.getPlatformVersion=k.prototype.na,k.prototype.ja=r("da"),k.prototype.getDocumentMode=k.prototype.ja,k.prototype.ia=r("j"),k.prototype.getBrowserInfo=k.prototype.ia;var rt=new k("Unknown",new m,"Unknown","Unknown",new m,"Unknown","Unknown",new m,"Unknown",void 0,new g(Z,Z,Z));y.prototype.parse=function(){var e;if(-1!=this.a.indexOf("MSIE")||-1!=this.a.indexOf("Trident/")){e=w(this);var t=_(this),n=v(t),r=Q,i=Q,o=Q,a=Q,s=S(this.a,/Trident\/([\d\w\.]+)/,1),c=O(this.I),r=-1!=this.a.indexOf("MSIE")?S(this.a,/MSIE ([\d\w\.]+)/,1):S(this.a,/rv:([\d\w\.]+)/,1),i=v(r);""!=s?(o="Trident",a=v(s)):(o="Unknown",a=new m,s="Unknown"),e=new k("MSIE",i,r,o,a,s,e,n,t,c,new g("Windows"==e&&6<=i.d||"Windows Phone"==e&&8<=n.d,Z,Z))}else if(-1!=this.a.indexOf("Opera"))e:if(e="Unknown",t=S(this.a,/Presto\/([\d\w\.]+)/,1),n=v(t),r=_(this),i=v(r),o=O(this.I),n.d!==Q?e="Presto":(-1!=this.a.indexOf("Gecko")&&(e="Gecko"),t=S(this.a,/rv:([^\)]+)/,1),n=v(t)),-1!=this.a.indexOf("Opera Mini/"))a=S(this.a,/Opera Mini\/([\d\.]+)/,1),s=v(a),e=new k("OperaMini",s,a,e,n,t,w(this),i,r,o,new g(Z,Z,Z));else{if(-1!=this.a.indexOf("Version/")&&(a=S(this.a,/Version\/([\d\.]+)/,1),s=v(a),s.d!==Q)){e=new k("Opera",s,a,e,n,t,w(this),i,r,o,new g(10<=s.d,Z,Z));break e}a=S(this.a,/Opera[\/ ]([\d\.]+)/,1),s=v(a),e=s.d!==Q?new k("Opera",s,a,e,n,t,w(this),i,r,o,new g(10<=s.d,Z,Z)):new k("Opera",new m,"Unknown",e,n,t,w(this),i,r,o,new g(Z,Z,Z))}else/OPR\/[\d.]+/.test(this.a)?e=b(this):/AppleWeb(K|k)it/.test(this.a)?e=b(this):-1!=this.a.indexOf("Gecko")?(e="Unknown",t=new m,n="Unknown",r=_(this),i=v(r),o=Z,-1!=this.a.indexOf("Firefox")?(e="Firefox",n=S(this.a,/Firefox\/([\d\w\.]+)/,1),t=v(n),o=3<=t.d&&5<=t.o):-1!=this.a.indexOf("Mozilla")&&(e="Mozilla"),a=S(this.a,/rv:([^\)]+)/,1),s=v(a),o||(o=1<s.d||1==s.d&&9<s.o||1==s.d&&9==s.o&&2<=s.aa||a.match(/1\.9\.1b[123]/)!=Q||a.match(/1\.9\.1\.[\d\.]+/)!=Q),e=new k(e,t,n,"Gecko",s,a,w(this),i,r,O(this.I),new g(o,Z,Z))):e=rt;return e},T.prototype.f=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.ua)},A.prototype.getName=r("K"),R.prototype.remove=function(){var e=this.s;e.parentNode&&e.parentNode.removeChild(e)};var it={Da:"serif",Ca:"sans-serif",Ba:"monospace"};H.prototype.start=function(){this.A=new R(this.c,this.C),W(this.A),this.B=new R(this.c,this.C),W(this.B),this.xa=tt(),I(this.A,new A(this.q.getName()+",serif",x(this.q))),I(this.B,new A(this.q.getName()+",sans-serif",x(this.q))),F(this)},L.prototype.ga=function(e){var t=this.t;u(t.m,[t.g.f(t.h,e.getName(),""+x(e),"active")],[t.g.f(t.h,e.getName(),""+x(e),"loading"),t.g.f(t.h,e.getName(),""+x(e),"inactive")]),M(t,"fontactive",e),this.ba=G,B(this)},L.prototype.ha=function(e){var t=this.t,n=d(t.m,t.g.f(t.h,e.getName(),""+x(e),"active")),r=[],i=[t.g.f(t.h,e.getName(),""+x(e),"loading")];n||r.push(t.g.f(t.h,e.getName(),""+x(e),"inactive")),u(t.m,r,i),M(t,"fontinactive",e),B(this)},U.prototype.load=function(e){var t=e.context||this.G;this.c=new c(this.G,t);var t=new E(this.c,t.document.documentElement,e),n=[],r=e.timeout;u(t.m,[t.g.f(t.h,"loading")]),M(t,"loading");var i,n=this.u,o=this.c,a=[];for(i in e)if(e.hasOwnProperty(i)){var l=n.w[i];l&&a.push(l(e[i],o))}for(n=a,this.Q=this.R=n.length,e=new L(this.a,this.c,t,r),i=0,r=n.length;r>i;i++)o=n[i],o.H(this.a,s(this.ta,this,o,t,e))},U.prototype.ta=function(e,t,n,r){var i=this;r?e.load(function(e,t,r){var o=0==--i.R;setTimeout(function(){j(n,e,t||{},r||Q,o)},0)}):(e=0==--this.R,this.Q--,e&&0==this.Q&&N(t),j(n,[],{},Q,e))},J.prototype.D=function(e){return p(this.c)+(this.e.api||"//f.fontdeck.com/s/css/js/")+(this.c.v.location.hostname||this.c.G.location.hostname)+"/"+e+".js"},J.prototype.H=function(e,t){var n=this.e.id,r=this.c.v,i=this;n?(r.__webfontfontdeckmodule__||(r.__webfontfontdeckmodule__={}),r.__webfontfontdeckmodule__[n]=function(e,n){for(var r=0,o=n.fonts.length;o>r;++r){var a=n.fonts[r];i.k.push(new A(a.name,P("font-weight:"+a.weight+";font-style:"+a.style)))}t(e)},h(this.c,this.D(n),function(e){e&&t(Z)})):t(Z)},J.prototype.load=function(e){e(this.k)},z.prototype.D=function(e){var t=p(this.c);return(this.e.api||t+"//use.typekit.net")+"/"+e+".js"},z.prototype.H=function(e,t){var n=this.e.id,r=this.e,i=this.c.v,o=this;n?(i.__webfonttypekitmodule__||(i.__webfonttypekitmodule__={}),i.__webfonttypekitmodule__[n]=function(n){n(e,r,function(e,n,r){for(var i=0;i<n.length;i+=1){var a=r[n[i]];if(a)for(var s=0;s<a.length;s+=1)o.k.push(new A(n[i],a[s]));else o.k.push(new A(n[i]))}t(e)})},h(this.c,this.D(n),function(e){e&&t(Z)},2e3)):t(Z)},z.prototype.load=function(e){e(this.k)},q.prototype.load=function(e){var t,n,r=this.e.urls||[],i=this.e.families||[],o=this.e.testStrings||{};for(t=0,n=r.length;n>t;t++)f(this.c,r[t]);for(r=[],t=0,n=i.length;n>t;t++){var a=i[t].split(":");if(a[1])for(var s=a[1].split(","),c=0;c<s.length;c+=1)r.push(new A(a[0],s[c]));else r.push(new A(a[0]))}e(r,o)},q.prototype.H=function(e,t){return t(e.j.M)};var ot="//fonts.googleapis.com/css";Y.prototype.f=function(){if(0==this.p.length)throw Error("No fonts to load!");if(-1!=this.N.indexOf("kit="))return this.N;for(var e=this.p.length,t=[],n=0;e>n;n++)t.push(this.p[n].replace(/ /g,"+"));return e=this.N+"?family="+t.join("%7C"),0<this.S.length&&(e+="&subset="+this.S.join(",")),0<this.ca.length&&(e+="&text="+encodeURIComponent(this.ca)),e};var at={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},st={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ct={i:"i",italic:"i",n:"n",normal:"n"},lt=RegExp("^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$");X.prototype.parse=function(){for(var e=this.p.length,t=0;e>t;t++){var n=this.p[t].split(":"),r=n[0].replace(/\+/g," "),i=["n4"];if(2<=n.length){var o,a=n[1];if(o=[],a)for(var a=a.split(","),s=a.length,c=0;s>c;c++){var l;if(l=a[c],l.match(/^[\w-]+$/)){l=lt.exec(l.toLowerCase());var u=void 0;if(l==Q)u="";else{if(u=void 0,u=l[1],u==Q||""==u)u="4";else var d=st[u],u=d?d:isNaN(u)?"4":u.substr(0,1);u=""+(l[2]==Q||""==l[2]?"n":ct[l[2]])+u}l=u}else l="";l&&o.push(l)}0<o.length&&(i=o),3==n.length&&(n=n[2],o=[],n=n?n.split(","):o,0<n.length&&(n=at[n[0]])&&(this.J[r]=n))}for(this.J[r]||(n=at[r])&&(this.J[r]=n),n=0;n<i.length;n+=1)this.$.push(new A(r,i[n]))}};var ut={Arimo:G,Cousine:G,Tinos:G};V.prototype.H=function(e,t){t(e.j.M)},V.prototype.load=function(e){var t=this.c;if("MSIE"==this.a.getName()&&this.e.blocking!=G){var n=s(this.X,this,e),r=function(){t.z.body?n():setTimeout(r,0)};r()}else this.X(e)},V.prototype.X=function(e){for(var t=this.c,n=new Y(this.e.api,p(t),this.e.text),r=this.e.families,i=r.length,o=0;i>o;o++){var a=r[o].split(":");3==a.length&&n.S.push(a.pop());var s="";2==a.length&&""!=a[1]&&(s=":"),n.p.push(a.join(s))}r=new X(r),r.parse(),f(t,n.f()),e(r.$,r.J,ut)},K.prototype.H=function(e,t){var n=this,r=n.e.projectId,i=n.e.version;if(r){var o=n.c.v;h(this.c,n.D(r,i),function(i){if(i)t(Z);else{if(o["__mti_fntLst"+r]&&(i=o["__mti_fntLst"+r]()))for(var a=0;a<i.length;a++)n.k.push(new A(i[a].fontfamily));t(e.j.M)}}).id="__MonotypeAPIScript__"+r}else t(Z)},K.prototype.D=function(e,t){var n=p(this.c),r=(this.e.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"");return n+"//"+r+"/"+e+".js"+(t?"?v="+t:"")},K.prototype.load=function(e){e(this.k)};var dt=new U(et);dt.u.w.custom=function(e,t){return new q(t,e)},dt.u.w.fontdeck=function(e,t){return new J(t,e)},dt.u.w.monotype=function(e,t){return new K(t,e)},dt.u.w.typekit=function(e,t){return new z(t,e)},dt.u.w.google=function(e,t){return new V(t,e)},et.WebFont||(et.WebFont={},et.WebFont.load=s(dt.load,dt),et.WebFontConfig&&dt.load(et.WebFontConfig))}(this,document),"undefined"==typeof SongkickWidget&&(SongkickWidget={}),SongkickWidget.Helpers={HTML_ESCAPES:{"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","+":"&#43;"},HTML_ESCAPE_PATTERN:/[<>"'\/+]/g,sanitizeString:function(e){var t=this;return(""+e).replace(t.HTML_ESCAPE_PATTERN,function(e){return t.HTML_ESCAPES[e]})},MAX_OTHER_ARTISTS:4,artistsToSentence:function(e){if(0===e.length)return"";var t="with "+e[0].displayName;return 1==e.length?t:(2==e.length?t+=" and "+e[1].displayName:e.length>2&&(t+=", ",t+=e.slice(1,e.length-1).map(function(e){return e.displayName}).join(", "),t+=e.length!=this.MAX_OTHER_ARTISTS?" and "+e[e.length-1].displayName:" and more&hellip;"),t)},MONTHS:["JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"],DAYS_OF_WEEK:["SUN","MON","TUE","WED","THU","FRI","SAT"],formatDate:function(e){var t=e.match(/(\d+)/g),e=new Date(t[0],t[1]-1,t[2]);return[this.DAYS_OF_WEEK[e.getDay()],e.getDate(),this.MONTHS[e.getMonth()]].join("&nbsp;")},formatPerformances:function(e,t){return void 0===e?"":(t&&(e=e.filter(function(e){return e.billing==t})),e=$.map(e,function(e){return e.displayName}),null===t&&e.length>this.MAX_OTHER_ARTISTS?e.slice(0,this.MAX_OTHER_ARTISTS).join(", ")+" and more&hellip;":e.join(", "))}},SongkickWidget.Parameters=function(e){if(this.params=[],isNaN(parseInt(e,10)))for(var t=e.split("&"),n=0;n<t.length;n++){var r=t[n].split("=");this.params[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}else this.params.artist=e},SongkickWidget.Parameters.prototype.getParameter=function(e,t){return this.params.hasOwnProperty(e)?this.params[e]:t?t:null},SongkickWidget.parameters=new SongkickWidget.Parameters(location.search.substring(1)),SongkickWidget.parameters.getParameter("xdm_e",!1)&&(SongkickWidget.parameters=new SongkickWidget.Parameters(location.hash.substring(1))),SongkickWidget.SongkickApi={API_KEY:"2kPN9eFcrPY9pwv4",API_PATH:"/api/3.0/",JSONP_CALLBACK:"jqueryJsonpCallback",DATA_TYPE:"jsonp",_host:function(){return"true"==SongkickWidget.parameters.getParameter("staging")?"api.staging.songkick.net":"api.songkick.com"},_protocol:function(){return"https:"==document.location.protocol?"https:":"http:"},getCalendarURL:function(e,t){var n,r={},i=this;return n="artists"==e?i._protocol()+"//"+i._host()+i.API_PATH+e+"/"+t+"/calendar/tourbox.json":i._protocol()+"//"+i._host()+i.API_PATH+e+"/"+t+"/calendar.json",r.apikey=i.API_KEY,r.per_page=100,"users"==e&&(r.reason="attendance"),n+="?"+i.formatArgs(r),n+="&jsoncallback=?"},getArtistURL:function(e){var t=this._protocol()+"//"+this._host()+this.API_PATH+"artists/"+e+".json",n={apikey:this.API_KEY};return t+="?"+this.formatArgs(n),t+="&jsoncallback=?"},formatArgs:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},getCalendar:function(e,t,n,r,i){$.ajax({url:this.getCalendarURL(e,t),jsonpCallback:"calendar_"+this.JSONP_CALLBACK,dataType:this.DATA_TYPE,timeout:1e4,success:n,complete:i,error:r,cache:!0})},getArtist:function(e,t,n,r){$.ajax({url:this.getArtistURL(e),jsonpCallback:"artist_"+this.JSONP_CALLBACK,dataType:this.DATA_TYPE,timeout:1e4,success:t,complete:r,error:n,cache:!0})}},SongkickWidget.UserInterface={inIframe:function(){try{return window.self!==window.top}catch(e){return!0}},configure:function(e){this.imageAssetHost=e},documentHeight:function(){return $(".listings-height").height()},otherArtistsFor:function(e){for(var t=[],n=!0,r=0;r<e.performance.length&&n;r++){var i=e.performance[r].artist;SongkickWidget.parameters.getParameter("artist")!=i.id&&(t.push(i),t.length>=SongkickWidget.Helpers.MAX_OTHER_ARTISTS&&(n=!1))}return t},showEvents:function(e){this.inIframe()||$("body").css("overflow-y","scroll"),SongkickWidget.parameters.getParameter("artist")&&SongkickWidget.parameters.getParameter("other-artists")&&$("body").addClass("with-other-artists"),SongkickWidget.parameters.getParameter("username")&&$("body").addClass("with-user-events"),$(".results").directives({".event":{"event <- event":{"@class":"event #{event.status}",".date .start":function(){return SongkickWidget.Helpers.formatDate(this.start.date)},".date .end+":function(){return this.end?SongkickWidget.Helpers.formatDate(this.end.date):void 0},".date .end@class":function(){return this.end&&this.end.date!=this.start.date?"end":"end hide"},"@data-event-id":function(){return this.id},".location@class":function(){return SongkickWidget.parameters.getParameter("artist")||SongkickWidget.parameters.getParameter("username")?"location":"location hide"},".venue":function(){return"Festival"!=this.type||SongkickWidget.parameters.getParameter("username")?this.venue.displayName:this.displayName},".city":"event.location.city",".artists@class":function(){return SongkickWidget.parameters.getParameter("artist")?"artists hide":"artists"},".headline":function(){return SongkickWidget.parameters.getParameter("artist")?"":"Festival"==this.type?this.displayName:SongkickWidget.Helpers.formatPerformances(this.performance,"headline")},".support":function(){return SongkickWidget.parameters.getParameter("artist")?"":"Festival"==this.type?SongkickWidget.Helpers.formatPerformances(this.performance,null):SongkickWidget.Helpers.formatPerformances(this.performance,"support")},".others":function(){if(SongkickWidget.parameters.getParameter("artist")&&SongkickWidget.parameters.getParameter("other-artists")){var e=SongkickWidget.UserInterface.otherArtistsFor(this);return SongkickWidget.Helpers.artistsToSentence(e)}return""},".link.row@href":function(){return SongkickWidget.parameters.getParameter("artist")?this.uri+"&utm_campaign=widget&utm_content="+SongkickWidget.parameters.getParameter("artist"):this.uri},".link.row@class":function(){return SongkickWidget.parameters.getParameter("artist")&&this.additionalUrl&&this.additionalLabel?"link row with-additional-link":"link row"},".additional-link@href":function(){return SongkickWidget.parameters.getParameter("artist")&&this.additionalUrl&&this.additionalLabel?this.additionalUrl:void 0},".additional-link":function(){return SongkickWidget.parameters.getParameter("artist")&&this.additionalUrl&&this.additionalLabel?SongkickWidget.Helpers.sanitizeString(this.additionalLabel):void 0},".additional-link@title":function(){return SongkickWidget.parameters.getParameter("artist")&&this.additionalUrl&&this.additionalLabel?SongkickWidget.Helpers.sanitizeString(this.additionalLabel):void 0},".additional-link@class":function(){return SongkickWidget.parameters.getParameter("artist")&&this.additionalUrl&&this.additionalLabel?"additional-link":"additional-link hide"},".ticket-link@href":function(){return SongkickWidget.parameters.getParameter("artist")?this.directTicketLink&&""!==this.directTicketLink?this.directTicketLink:this.uri+"&utm_campaign=widget&utm_content="+SongkickWidget.parameters.getParameter("artist"):this.uri},".ticket-link":function(){return SongkickWidget.parameters.getParameter("artist")&&this.directTicketLabel&&""!==this.directTicketLabel?SongkickWidget.Helpers.sanitizeString(this.directTicketLabel):"Tickets"},".ticket-link@title":function(){return SongkickWidget.parameters.getParameter("artist")&&this.directTicketLabel&&""!==this.directTicketLabel?SongkickWidget.Helpers.sanitizeString(this.directTicketLabel):"Tickets"},".ticket-link@data-direct-link":function(){return SongkickWidget.parameters.getParameter("artist")&&this.directTicketLink&&""!==this.directTicketLink?!0:!1}}},"div.no-events@class":function(){return this.event&&this.event.length>0?"no-events hide":"no-events show"}}).render(e),$(document).trigger("render.songkickWidget")},injectArtistForTrackCta:function(e){var t=e.resultsPage.results.artist;t.id&&t.displayName&&($("#track-cta").directives({"#artist-name":function(){return t.displayName},"a#subscribe@href":function(){return $("#track-cta a#subscribe").attr("href").replace(/__ARTIST_ID__/g,t.id)}}).render(t),$("#track-cta").removeClass("hide"))},injectEventsJSON:function(e){if(e.event){var t=this;e=$.map(e.event,function(e){var n=null;n="Festival"==e.type?e.displayName:SongkickWidget.Helpers.formatPerformances(e.performance,null);var r=e.start.datetime||e.start.date,i=null;e.end&&(i=e.end.date);var o=e.venue.displayName,a=e.location.city;-1!=a.indexOf(",")&&(a=a.substr(0,a.indexOf(",")));var s={"@type":"PostalAddress",streetAddress:e.venue.street,addressLocality:a,addressCountry:e.venue.metroArea.country.displayName,postalCode:e.venue.zip};e.venue.metroArea.state&&(s.addressRegion=e.venue.metroArea.state.displayName);var c=e.venue.uri,l=e.uri,u=null,d=$.map(e.performance,function(e){u||"headline"!=e.billing||(u=e.artist);var n="https://"+t.imageAssetHost+"/images/media/profile_images/artists/"+e.artist.id+"/card_avatar";return{"@type":"MusicGroup",name:e.artist.displayName,url:e.artist.uri,image:n}}),p=null;"Festival"==e.type?p="https://"+t.imageAssetHost+"/images/media/profile_images/events/"+e.id+"/card_avatar":u&&(p="https://"+t.imageAssetHost+"/images/media/profile_images/artists/"+u.id+"/card_avatar");var f={"@type":"MusicVenue",name:o,address:s,url:c};return e.venue.lat&&e.venue.lng&&(f.geo={"@type":"GeoCoordinates",latitude:e.venue.lat,longitude:e.venue.lng}),{"@context":"http://schema.org","@type":"MusicEvent",name:n,image:p,url:l,startDate:r,endDate:i,location:f,offers:[{"@type":"Offer",url:l}],performer:d}}),JSON&&$(".microformat script").html(JSON.stringify(e))}},showEventsFromAPI:function(e){var t;if(SongkickWidget.parameters.getParameter("username")){var n=e.resultsPage.results.calendarEntry||[],r=$.map(n,function(e){return e.event});t={event:r}}else if(SongkickWidget.parameters.getParameter("artist")){var i=e.resultsPage.results.performance||[];t={event:$.map(i,function(e){return e.date&&(e.event.start={date:e.date},e.event.end&&(e.event.end={date:e.date})),e.event.directTicketLink=e.directTicketLink,e.event.directTicketLabel=e.directTicketLabel,e.event.additionalUrl=e.additionalUrl,e.event.additionalLabel=e.additionalLabel,e.event})}}else t=e.resultsPage.results;t.event&&(t.event=$.map(t.event,function(e){return"cancelled"===e.status?null:e})),SongkickWidget.UserInterface.showEvents(t),SongkickWidget.UserInterface.injectEventsJSON(t)},showAPIError:function(){$(".api-error").removeClass("hide")},hideLoadingAnimation:function(){$(".loading").addClass("hide")},DEFAULT_THEME:"light",DEFAULT_HEADER:"Tour dates",CSS_PARAMETERS_FOR_BODY:["background-color","font-color","font-family","font-size","font-weight","text-shadow","text-transform"],PARAMETER_TO_CSS_PROPERTY_MAP:{"font-color":["color","fill"]},setTheme:function(){var e=this,t=SongkickWidget.parameters.getParameter("theme",this.DEFAULT_THEME);$("body").addClass(t);var n=$("div#powered a").attr("href");$("div#powered a").attr("href",n+"?utm_medium=referral&utm_source=widget&utm_campaign="+SongkickWidget.parameters.getParameter("artist")),$.each(e.CSS_PARAMETERS_FOR_BODY,function(t,n){var r=SongkickWidget.parameters.getParameter(n);if(!r)return!0;if(e.PARAMETER_TO_CSS_PROPERTY_MAP[n])$.each(e.PARAMETER_TO_CSS_PROPERTY_MAP[n],function(e,t){$("body").css(t,r)});else{var i=n;$("body").css(i,r)}"font-family"===n&&(SongkickWidget.Events.fireHeightChanged(),e.checkFontFamily(r))}),$("#title").text(SongkickWidget.parameters.getParameter("header",e.DEFAULT_HEADER))},checkFontFamily:function(e){var t=new Detector,n=e.split(",")[0].replace(/['"]/g,"");t.detect(n)||WebFont.load({google:{families:[n]},active:SongkickWidget.Events.fireHeightChanged})},finishLoading:function(){SongkickWidget.UserInterface.hideLoadingAnimation(),SongkickWidget.Events.fireHeightChanged()},loadEvents:function(){var e=SongkickWidget.parameters.getParameter("artist"),t=SongkickWidget.parameters.getParameter("username"),n=SongkickWidget.parameters.getParameter("venue"),r=null,i=null;if(e&&!isNaN(parseInt(e)))r="artists",i=e;else if(t)r="users",i=t;else{if(!n||isNaN(parseInt(n)))return SongkickWidget.UserInterface.showAPIError(),SongkickWidget.UserInterface.finishLoading(),!1;r="venues",i=n}SongkickWidget.SongkickApi.getCalendar(r,i,SongkickWidget.UserInterface.showEventsFromAPI,SongkickWidget.UserInterface.showAPIError,SongkickWidget.UserInterface.finishLoading)},loadArtist:function(){var e=SongkickWidget.parameters.getParameter("artist");isNaN(parseInt(e))||"on"!=SongkickWidget.parameters.getParameter("track-button")||SongkickWidget.SongkickApi.getArtist(e,SongkickWidget.UserInterface.injectArtistForTrackCta,function(){},SongkickWidget.Events.fireHeightChanged)},MEDIUM_BREAKPOINT:510,NARROW_BREAKPOINT:420,responsiveJs:function(){var e=$("html").width();e<this.MEDIUM_BREAKPOINT&&$("body").addClass("medium"),e<this.NARROW_BREAKPOINT&&$("body").addClass("narrow"),e>this.MEDIUM_BREAKPOINT&&$("body").removeClass("medium"),e>this.NARROW_BREAKPOINT&&$("body").removeClass("narrow")}},SongkickWidget.Events={notifyParent:function(e){if(SongkickWidget.UserInterface.inIframe())var t=new easyXDM.Socket({swf:"/easyxdm.swf",onReady:function(){t.postMessage(e)}})},fireHeightChanged:function(){var e=SongkickWidget.UserInterface.documentHeight();SongkickWidget.Events.notifyParent(e+30)},bodyLoaded:function(e){SongkickWidget.UserInterface.configure(e),SongkickWidget.UserInterface.setTheme(),SongkickWidget.UserInterface.loadArtist(),SongkickWidget.UserInterface.loadEvents(),SongkickWidget.UserInterface.responsiveJs()},bodyResized:function(){SongkickWidget.UserInterface.responsiveJs(),SongkickWidget.Events.fireHeightChanged()}},SongkickWidget.Analytics={viewEvents:function(){var e;e=$(".ticket-link[data-direct-link]").length?"any_direct_links":"no_direct_links",SongkickWidget.Analytics._trackEvent("artist_widget","view_events",e,{nonInteraction:1})},findTicketsClickHandler:function(e){var t,n,r=$(e.target),i=r.data("direct-link"),o=r.attr("href");i?(t="click_direct",n=o):(t="click_skweb",n=r.closest(".event").data("event-id")),SongkickWidget.Analytics._trackEvent("artist_find_tickets",t,n)},eventRowClickHandler:function(e){var t=$(e.target).closest(".event").data("event-id");SongkickWidget.Analytics._trackEvent("artist_find_tickets","click_event_row",t)},additionalUrlClickHandler:function(e){var t=$(e.target).attr("href");SongkickWidget.Analytics._trackEvent("artist_find_tickets","click_additional_url",t)},viewTrackButton:function(){var e=!$("#track-cta").hasClass("hide");e&&SongkickWidget.Analytics._trackEvent("artist_widget","view","track_cta",{nonInteraction:1})},trackClickHandler:function(){SongkickWidget.Analytics._trackEvent("artist_widget","click","track_cta")},_trackEvent:function(e,t,n,r){ga("send","event",e,t,n,r)}};